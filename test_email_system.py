#!/usr/bin/env python
"""
Test script to verify email system is working correctly
Run with: python manage.py shell < test_email_system.py
"""

import os
import sys

import django

os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'sudocodelab.settings')
django.setup()

from django.conf import settings
from django.core.mail import send_mail

from sudocodelabapp.models import ChatbotConfiguration
from sudocodelabapp.views import send_custom_email

print("=" * 60)
print("EMAIL SYSTEM VERIFICATION TEST")
print("=" * 60)

# Test 1: Check Django Email Settings
print("\n[TEST 1] Django Email Configuration")
print("-" * 60)
print(f"EMAIL_BACKEND: {settings.EMAIL_BACKEND}")
print(f"EMAIL_HOST: {settings.EMAIL_HOST}")
print(f"EMAIL_PORT: {settings.EMAIL_PORT}")
print(f"EMAIL_USE_SSL: {settings.EMAIL_USE_SSL}")
print(f"EMAIL_USE_TLS: {settings.EMAIL_USE_TLS}")
print(f"EMAIL_HOST_USER: {settings.EMAIL_HOST_USER}")
print(f"DEFAULT_FROM_EMAIL: {settings.DEFAULT_FROM_EMAIL}")

# Test 2: Check ChatbotConfiguration
print("\n[TEST 2] ChatbotConfiguration Model")
print("-" * 60)
try:
    config = ChatbotConfiguration.get_active()
    print(f"✅ Active Configuration Found")
    print(f"   - Agent Email: {config.agent_email}")
    print(f"   - Company Email: {config.company_email}")
    print(f"   - Agent Name: {config.agent_name}")
except Exception as e:
    print(f"❌ Error loading config: {e}")

# Test 3: Try sending a test email
print("\n[TEST 3] Sending Test Email")
print("-" * 60)

test_email = "test@example.com"  # Replace with a real email to test
admin_email = "info@sudocodelab.com"

html_content = """
<html>
  <body style="font-family: Arial, sans-serif;">
    <h2>Email System Test</h2>
    <p>If you received this email, the email system is working correctly!</p>
    <p><strong>Test Details:</strong></p>
    <ul>
      <li>Email Backend: Django SMTP</li>
      <li>Host: mail.privateemail.com</li>
      <li>Port: 465</li>
      <li>SSL: Enabled</li>
    </ul>
    <p>This is a test email to verify the email sending functionality.</p>
  </body>
</html>
"""

print(f"Attempting to send test email...")
print(f"TO: {test_email}")
print(f"BCC: {admin_email}")

try:
    result = send_custom_email(
        subject="Test Email - SudoCodeLab Email System Verification",
        html_message=html_content,
        recipient_list=[test_email],
        bcc_list=[admin_email]
    )
    
    if result == 1:
        print(f"✅ Email sent successfully!")
        print(f"   Result: {result} recipient(s) received the email")
    else:
        print(f"⚠️  Email result: {result} (Expected: 1)")
        
except Exception as e:
    print(f"❌ Error sending email: {str(e)}")
    import traceback
    traceback.print_exc()

print("\n" + "=" * 60)
print("EMAIL SYSTEM VERIFICATION COMPLETE")
print("=" * 60)
