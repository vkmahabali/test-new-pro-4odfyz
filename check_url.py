#!/usr/bin/env python
import os
import sys

import django

os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'sudocodelab.settings')
sys.path.insert(0, '/'.join(os.path.dirname(__file__).split('\\')))
django.setup()

from django.test import RequestFactory

from sudocodelabapp.models import JobApplication

try:
    app = JobApplication.objects.get(pk=2)
    factory = RequestFactory()
    request = factory.get('/hr/applicants/2/resume/')
    
    if app.resume:
        resume_url = app.resume.url
        full_url = request.build_absolute_uri(resume_url)
        viewer_url = f'https://docs.google.com/gview?url={full_url}&embedded=true'
        
        print(f"Resume URL: {resume_url}")
        print(f"Full URL: {full_url}")
        print(f"Viewer URL: {viewer_url}")
except Exception as e:
    print(f"Error: {e}")
    import traceback
    traceback.print_exc()
