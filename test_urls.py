import os

import django

os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'sudocodelab.settings')
django.setup()

from django.urls import reverse

print("=" * 60)
print("CHECKING MARKETING PROJECT URLS")
print("=" * 60)

urls_to_check = [
    'manage_marketing_projects',
    'add_marketing_project',
    'edit_marketing_project',
    'delete_marketing_project',
    'toggle_project_featured',
]

for url_name in urls_to_check:
    try:
        if 'edit_' in url_name or 'delete_' in url_name or 'toggle' in url_name:
            # These need parameters
            if 'edit_' in url_name or 'delete_' in url_name:
                url = reverse(url_name, kwargs={'pk': 1})
            else:
                url = reverse(url_name, kwargs={'project_id': 1})
        else:
            url = reverse(url_name)
        print(f"✅ {url_name:40} -> {url}")
    except Exception as e:
        print(f"❌ {url_name:40} -> ERROR: {str(e)}")

print("=" * 60)
print("\nNow checking if views exist...")
print("=" * 60)

from admin_dashboard import views

view_functions = [
    'manage_marketing_projects',
    'add_marketing_project',
    'edit_marketing_project',
    'delete_marketing_project',
    'toggle_project_featured',
]

for view_name in view_functions:
    if hasattr(views, view_name):
        print(f"✅ {view_name:40} exists")
    else:
        print(f"❌ {view_name:40} NOT FOUND")

print("=" * 60)
